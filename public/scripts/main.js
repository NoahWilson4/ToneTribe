$(document).on("ready",function(){$.get("/api/getSongs",{},function(t){console.log(t),t.map(function(t){$(".song-container").append(e(t))})});var e=function(e){console.log("songData",e);var t=$("<div>");return t.append('<form id="viewSong"></form>'),t.append('<h3><a href="/song/'+e._id+'">'+e.name+"</a></h3>"),t.attr("data-id",e._id),t};$("#create-new-song").on("submit",function(t){t.preventDefault();var o=$(this).find("[name=name]").val(),i={name:o};$.post("/api/createNewSong",i,function(t){console.log("responseData: ",t);var o=e(t);console.log("songEl: ",o),$(".song-container").append(o)})})}),$(document).on("ready",function(){var e,t=(new(window.AudioContext||window.webkitAudioContext),window.location.pathname.split("/").pop());console.log("id: ",t);$.post("/api/getTrackUrls",{id:t},function(t){e=t,console.log("allTracks 1: ",e);var o=e[0],i=e[1],s=e[2],n=e[3],a=e[4],l=e[5];if(console.log("test...."),o[0]){$(".track0").append(o[0].trackTitle);var r=document.createElement("audio");r.setAttribute("src",o[0].url),r.load(),r.controls=!0,$.get()}if(i[0]){$(".track1").append(i[0].trackTitle);var c=document.createElement("audio");c.setAttribute("src",i[0].url),c.load(),c.controls=!0,$.get()}if(s[0]){$(".track2").append(s[0].trackTitle);var d=document.createElement("audio");d.setAttribute("src",s[0].url),d.load(),d.controls=!0,$.get()}if(n[0]){$(".track3").append(n[0].trackTitle);var u=document.createElement("audio");u.setAttribute("src",n[0].url),u.load(),u.controls=!0,$.get()}if(a[0]){$(".track4").append(a[0].trackTitle);var p=document.createElement("audio");p.setAttribute("src",a[0].url),p.load(),p.controls=!0,$.get()}if(l[0]){$(".track5").append(l[0].trackTitle);var h=document.createElement("audio");h.setAttribute("src",l[0].url),h.load(),h.controls=!0,$.get()}$(".track0").on("click",function(){console.log("play click!"),r.play()}),$(".track1").on("click",function(){console.log("play click!"),c.play()}),$(".track2").on("click",function(){console.log("play click!"),d.play()}),$(".track3").on("click",function(){console.log("play click!"),u.play()}),$(".track4").on("click",function(){console.log("play click!"),p.play()}),$(".track5").on("click",function(){console.log("play click!"),h.play()}),$("#play").on("click",function(){console.log("play all..."),r&&r.play(),c.play(),d.play(),u.play(),p.play(),h.play()})})}),$(document).on("ready",function(){var e=function(e){var t=e;t=t.split("-");var o=new Date,i=o.getYear()+1900,s=o.getMonth()+1,n=o.getDate(),a=[];a.push(i,s,n);for(var l=0;l<t.length;l++)t[l]=Number(t[l]);var r=a[0]-t[0];return t[1]>=a[1]&&t[2]>a[2]&&r--,r},t=function(e){var t=e;t=t.split("-"),t.shift();for(var o=0;o<t.length;o++)t[o]=Number(t[o]);if(console.log("birthday: ",t),12===t[0]&&t[1]>=22||1===t[0]&&t[1]<=19)var i="Capricorn";else if(1===t[0]&&t[1]>=20||2===t[0]&&t[1]<=19)var i="Aquarius";else if(2===t[0]&&t[1]>=20||3===t[0]&&t[1]<=20)var i="Pisces";else if(3===t[0]&&t[1]>=21||4===t[0]&&t[1]<=19)var i="Aries";else if(4===t[0]&&t[1]>=20||5===t[0]&&t[1]<=20)var i="Taurus";else if(5===t[0]&&t[1]>=21||6===t[0]&&t[1]<=20)var i="Gemini";else if(6===t[0]&&t[1]>=21||7===t[0]&&t[1]<=22)var i="Cancer";else if(7===t[0]&&t[1]>=23||8===t[0]&&t[1]<=22)var i="Leo";else if(8===t[0]&&t[1]>=23||9===t[0]&&t[1]<=22)var i="Virgo";else if(9===t[0]&&t[1]>=23||10===t[0]&&t[1]<=24)var i="Libra";else if(10===t[0]&&t[1]>=24||11===t[0]&&t[1]<=22)var i="Scorpio";else if(11===t[0]&&t[1]>=23||12===t[0]&&t[1]<=21)var i="Scorpio";return console.log("sign: ",i),i},o=function(e){if(e){for(var t=e,o=[],i=0;i<t.length;i++)o.push(t[i]);for(var s=0;s<o.length-1;s++)o[s]="<div class='words'> "+o[s]+", </div>";return o[o.length-1]="<div class='words'>"+o[s]+"</div>",o}},i=function(e,t){if(t){$(e).text("");for(var o=0;o<t.length;o++)$(e).append(t[o])}},s=function(e){for(var t=0;t<l.length;t++)if(l[t].userId===e)return l[t]},n=function(e,t){this.email=e,this.password=t,this.photos=[],l.push(this)};n.prototype.render=function(){$(".name").text(this.name),$(".name").data("userId",this.userId),$(".location").text(this.location);var e=this.bands,t=o(e),s=".bands";i(s,t),$(".profile-pic").css({backgroundImage:this.profilePic}),$(".profile-top").css({backgroundImage:this.backgroundPic});var n=this.instruments,a=o(n),l=".instruments";i(l,a);var r=this.styles,c=o(r),d=".styles";i(d,c);var u=this.skills,p=o(u),h=".skills";i(h,p);var m=this.inspirations,f=o(m),v=".inspirations";i(v,f),$(".improv-comp").val(this.improvComp),$(".birthday").text(this.age),$(".astro-sign").text(this.astro);for(var b=0;b<this.media.length;b++)$(".media").append(this.media[b]);$(".about").text(this.about),$(".philosophy").text(this.philosophy)},n.prototype.addToBand=function(e){this.band=e,console.log("this: "),e.push(this),e.combineMemberInfo()},n.prototype.displayAsMember=function(){var e=this.profilePic;e=e.split('"'),e=e[1],this.memberElement=$('<div class="list-group results"><a href="#" class="list-group-item result-block"><img id="memberPic" class="search-profile-pic" src="'+e+'"><div class="search-result-info"><h4 class="list-group-item-heading">'+this.name+'</h4><p class="list-group-item-text">Location: '+this.location+"</p></div></a></div>"),$(".member-container").append(this.memberElement)},n.prototype.displayResultsMusicians=function(){var e=this.profilePic;return e=e.split('"'),e=e[1],this.searchElement=$('<div class="list-group results"><a href="#" class="list-group-item result-block"><img id="memberPic" class="search-profile-pic" src="'+e+'"><div class="search-result-info"><h4 class="list-group-item-heading">'+this.name+'</h4><p class="list-group-item-text">Location: '+this.location+"</p></div></a></div>"),$("#search-results-musicians").append(this.searchElement),this.searchElement};var a,l=[],r=[],c=function(e){this.name=e,r.push(this),this.members=[],this.photos=[]};c.prototype.render=function(){$(".band-name").text(this.name),$(".band-location").text(this.location),$(".band-profile-pic").css({backgroundImage:this.profilePic}),$(".band-profile-top").css({backgroundImage:this.backgroundPic}),$(".band-improv-comp").val(this.improvComp),$(".band-birthdate").text(this.birthdate);for(var e=0;e<this.media.length;e++)$(".band-media").append(this.media[e]);for(var e=0;e<this.members.length;e++)this.members[e].displayAsMember();$(".band-about").text(this.about),$(".band-philosophy").text(this.philosophy),this.combineMemberInfo(),console.log("this band: ",this);var t=this.instruments,s=o(t),n=".band-instrumentation";i(n,s);var a=this.styles,l=o(a),r=".band-styles";i(r,l);var c=this.inspirations,d=o(c),u=".band-inspirations";i(u,d)},c.prototype.combineMemberInfo=function(){console.log("this test: ",this);var e=_.chain(this.members).pluck("instruments").flatten().uniq().value();this.instruments=e;var t=_.chain(this.members).pluck("styles").flatten().uniq().value();this.styles=t;var o=_.chain(this.members).pluck("inspirations").flatten().uniq().value();this.inspirations=o},c.prototype.displayResultsBands=function(){var e=this.profilePic;return e=e.split('"'),e=e[1],this.searchElement=$('<div class="list-group results"><a href="#" class="list-group-item result-block"><img id="memberPic" class="search-profile-pic" src="'+e+'"><div class="search-result-info"><h4 class="list-group-item-heading">'+this.name+'</h4><p class="list-group-item-text">Location: '+this.location+"</p></div></a></div>"),$("#search-results-bands").append(this.searchElement),this.searchElement},$(document).on("click","#navbar-search",function(){var e="search-and-results.html";window.location=e}),$("#tune-in").on("submit",function(e){e.preventDefault();var t=$(e.target),o=(t.find("[name=email]"),t.find("[name=password]"),"profile-user-prepopulated.html");window.location=o}),$(".join").on("click",function(){var e="signup.html";window.location=e});$('<div class="enter-info"><h1 class="enter-info-heading">enter info</h1></div>');$("#new-user-form").on("submit",function(e){e.preventDefault();var t=$(e.target),o=t.find("[name=new-user]").val(),i=t.find("[name=new-email]").val(),s=t.find("[name=new-password]").val(),r=new n(o,i,s);l.push(r),a=r,$("#new-user-form").hide(),$(".sign-up-page").append(d),$(".enter-info").append(u,p,m,v,g,w,k,P,A),$(".edit-pagination").append(h,f,b,y,x,I,C,E),$(p).hide(),$(m).hide(),$(v).hide(),$(g).hide(),$(w).hide(),$(k).hide(),$(P).hide(),$(A).hide(),$(h).hide(),$(f).hide(),$(b).hide(),$(y).hide(),$(x).hide(),$(I).hide(),$(C).hide(),$(E).hide()});var d=$('<div class="edit-popup"><div class="enter-info-heading"><h2>Create Profile</h2></div><div class="enter-info"></div><div class="edit-pagination"></div></div>'),u=$('<h3>Is this for an Individual or Band?</h3><button class="which is-individual btn btn-success">Individual</button><button class="which is-band btn btn-success">Band</button>');$(document).on("click",".is-individual",function(){$(u).hide(),$(p).show(),$(h).show()}),$(document).on("click",".is-band",function(){$(u).hide(),$(m).show(),$(f).show()});var p=$('<h3>Basic Info</h3><form id="edit-profile-form" class="form-horizontal" role="form"><div class="form-group"><h4>Name</h4><div class="col-sm-10"><input type="text" name="name" class="form-control" class="edit-input" placeholder="Your Name..."></div></div><div class="form-group"><h4>Location</h4><div class="col-sm-10"><input type="text" name="location" class="form-control" class="edit-input" placeholder="Your Location..."></div></div><div class="form-group"><h4>Alias/Bandname</h4><div class="col-sm-10"><input type="text" name="alias" class="form-control" class="edit-input" placeholder="Alias/Bandname..."></div></div><div class="form-group"><h4>Birthdate</h4><div class="col-sm-10"><input type="date" id="birthdate" class="form-control" class="edit-input" placeholder=""></div><div id="#birth-date-info"></div></div></form>'),h=$('<button class="previous previous-which btn btn-success btn-sm">Previous</button><button class="next next-musicInfo btn btn-success btn-sm">Next</button>');$(document).on("blur","#birthdate",function(){$("#birth-date-info").empty();var o=$("#birthdate").val(),i=e(o);console.log("ageConverted: ",i);var s=t(o);console.log("astro: ",s);var n=$("<h4>Age: "+i+", "+s+"</h4>");$(p).append(n)}),$(document).on("click",".previous-which",function(){$(p).hide(),$(h).hide(),$(u).show()}),$(document).on("click",".next-musicInfo",function(){$(p).hide(),$(h).hide(),$(v).show(),$(b).show()});var m=$('<h3>Basic Info</h3><form id="edit-profile-form" class="form-horizontal" role="form"><div class="form-group"><h4>Band Name:</h4><div class="col-sm-10"><input type="text" name="name" class="form-control" class="edit-input" placeholder="Band Name..."></div></div><div class="form-group"><h4>Location:</h4><div class="col-sm-10"><input type="text" name="location" class="form-control" class="edit-input" placeholder="Your Location..."></div></div><div class="form-group"><h4>Have Played Together Since:</h4><div class="col-sm-10"><input type="date" name="birthdate" class="form-control" class="edit-input" placeholder=""></div></div></form>'),f=$('<button class="previous previous-which btn btn-success btn-sm">Previous</button><button class="next next-band-musicInfo btn btn-success btn-sm">Next</button>');$(document).on("click",".previous-which",function(){$(m).hide(),$(u).show(),$(f).hide()}),$(document).on("click",".next-band-musicInfo",function(){$(m).hide(),$(g).show(),$(y).show()});var v=$('<h3>Musical Info</h3><form id="edit-profile-form" class="form-horizontal" role="form"><div class="form-group"><h4>Instruments:</h4><div class="col-sm-10"><input type="text" name="instruments" class="form-control edit-input" placeholder="Instruments you play..."></div></div><div class="form-group"><h4>Styles:</h4><div class="col-sm-10"><input type="text" name="styles" class="form-control edit-input" placeholder="Styles you play..."></div></div><div class="form-group"><h4>Skills:</h4><div class="col-sm-10"><input type="text" name="skills" class="form-control edit-input" placeholder="Other music related skills..."></div></div><div class="form-group"><h4>Inspired By:</h4><div class="col-sm-10"><input type="text" name="inspirations" class="form-control edit-input" placeholder="Who inspires you..."></div></div><div class="form-group"><h4>Impovisational/Compositional Orientation:</h4><div class="col-sm-10"><input type="range" min="0" max="100" name="orientation" class="form-control edit-input"></div></div></form>'),b=$('<button class="previous previous-basicInfo btn btn-success btn-sm">Previous</button><button class="next next-pics btn btn-success btn-sm">Next</button>');$(document).on("click",".previous-basicInfo",function(){$(v).hide(),$(b).hide(),$(p).show(),$(h).show()}),$(document).on("click",".next-pics",function(){$(v).hide(),$(b).hide(),$(w).show(),$(x).show()});var g=$('<h3>Musical Info</h3><form id="edit-profile-form" class="form-horizontal" role="form"><div class="form-group"><h4>Members:</h4><div class="col-sm-10"><input type="text" name="members" class="form-control edit-input" placeholder="Members..."></div></div><div class="form-group"><h4>Instrumentation:</h4><div class="col-sm-10"><input type="text" name="instruments" class="form-control edit-input" placeholder="Band Instrumentation..."></div></div><div class="form-group"><h4>Styles:</h4><div class="col-sm-10"><input type="text" name="styles" class="form-control edit-input" placeholder="Styles you play..."></div></div><div class="form-group"><h4>Inspired By:</h4><div class="col-sm-10"><input type="text" name="inspirations" class="form-control edit-input" placeholder="Who inspires you..."></div></div><div class="form-group"><h4>Impovisational/Compositional Orientation:</h4><div class="col-sm-10"><input type="range" min="0" max="100" name="orientation" class="form-control edit-input"></div></div></form>'),y=$('<button class="previous previous-band-basicInfo btn btn-success btn-sm">Previous</button><button class="next next-band-pics btn btn-success btn-sm">Next</button>');$(document).on("click",".previous-band-basicInfo",function(){$(g).hide(),$(y).hide(),$(m).show(),$(f).show()}),$(document).on("click",".next-band-pics",function(){$(g).hide(),$(y).hide(),$(k).show(),$(I).show()});var w=$('<h3>Profile pics</h3><form id="edit-profile-form" class="form-horizontal" role="form"><div class="profile-pic-div"><img class="profile-pic-position" src="http://placehold.it/150x150"><div class="form-group choose-pic"><h4>Profile Pic</h4><div class="col-sm-10"><input type="file" name="profilePic" class="form-control" class="edit-input"></div></div></div><div class="background-pic-div"><div class="background-image-holder" src="http://placehold.it/250x110"></div><div class="form-group"><h4>Background Pic</h4><div class="col-sm-10"><input type="file" name="BackgroundPic" class="form-control choose-pic" class="edit-input"></div></div></div></form></div>'),x=$('<button class="previous previous-musicInfo btn btn-success btn-sm">Previous</button><button class="next next-about btn btn-success btn-sm">Next</button>');$(document).on("click",".previous-musicInfo",function(){$(w).hide(),$(x).hide(),$(v).show(),$(b).show()}),$(document).on("click",".next-about",function(){$(w).hide(),$(x).hide(),$(P).show(),$(C).show()});var k=$('<h3>Profile pics</h3><form id="edit-profile-form" class="form-horizontal" role="form"><div class="profile-pic-div"><img class="profile-pic-position" src="http://placehold.it/150x150"><div class="form-group choose-pic"><h4>Profile Pic</h4><div class="col-sm-10"><input type="file" name="profilePic" class="form-control" class="edit-input"></div></div></div><div class="background-pic-div"><div class="background-image-holder"></div><div class="form-group"><h4>Background Pic</h4><div class="col-sm-10"><input type="file" name="BackgroundPic" class="form-control choose-pic" class="edit-input"></div></div></div></form></div>'),I=$('<button class="previous previous-band-musicInfo btn btn-success btn-sm">Previous</button><button class="next next-band-about btn btn-success btn-sm">Next</button>');$(document).on("click",".previous-band-musicInfo",function(){$(k).hide(),$(I).hide(),$(g).show(),$(y).show()}),$(document).on("click",".next-band-about",function(){$(k).hide(),$(I).hide(),$(A).show(),$(E).show()});var P=$('<h3>About</h3><form id="edit-profile-form" class="form-horizontal" role="form"><div class="form-group"><h4>About:</h4><div class="col-sm-10"><textarea type="text" name="about" class="form-control edit-input" placeholder="Tell us about you and your musical endeavors..."></textarea></div></div><div class="form-group"><h4>Philosophy:</h4><div class="col-sm-10"><textarea type="text" name="philosophy" class="form-control edit-input" placeholder="Tell us about your philosophy on music..."></textarea></div></div><div class="form-group"><h4>Eneagram Personality Type:</h4><div class="col-sm-10"><input type="number" name="personality" class="form-control edit-input number-input" min="1" max="9"><button type="button" class="btn btn-default btn-xs" data-container="body" data-toggle="popover" data-placement="right" data-content="The Eneagram is a personality test that is incredibly intuitive and spot on with describing personalities. It is a way of determining how your personality will mesh with the personalities of the musicians you connect with on ToneTribe.  It is also helpful for your own self-knowledge.">?</button></div></form>'),C=$('<button class="previous previous-pics btn btn-success btn-sm">Previous</button><button class="next done btn btn-success btn-sm">Done</button>');$(document).on("click",".previous-pics",function(){$(P).hide(),$(C).hide(),$(w).show(),$(x).show()}),$(document).on("click",".done",function(){$(d).hide();var e="profile-user.html";window.location=e});var A=$('<h3>About</h3><form id="edit-profile-form" class="form-horizontal" role="form"><div class="form-group"><h4>About:</h4><div class="col-sm-10"><textarea type="text" name="about" class="form-control edit-input" placeholder="Tell us about you and your musical endeavors..."></textarea></div></div><div class="form-group"><h4>Philosophy:</h4><div class="col-sm-10"><textarea type="text" name="philosophy" class="form-control edit-input" placeholder="Tell us about your philosophy on music..."></textarea></div></div></form>'),E=$('<button class="previous previous-band-pics btn btn-success btn-sm">Previous</button><button class="next band-done btn btn-success btn-sm">Done</button>');$(document).on("click",".previous-band-pics",function(){$(A).hide(),$(E).hide(),$(k).show(),$(I).show()}),$(document).on("click",".band-done",function(){$(d).hide();var e="band-profile-user.html";window.location=e});var B=$('<div class="gallery-background"><div class="gallery"><h3 class="gallery-heading">Photo Gallery</h3></div></div>');$(document).on("click",".view-gallery",function(){$(".container").append(B)}),$(".edit-directions").hide();var T=$('<div class="info-block embed-info-block"><h5 class="info-block-heading embed-heading">Embed Media</h5><div class="embed-info">Here you can embed media from other sites including Soundcloud, Youtube, CDBaby, and any other site that provides the iframe code for media. Click on share, and there you will find an embed link. (Make sure that http:// is in the code.)</div><form id="embed-form" class="form-horizontal" role="form"><div class="form-group"><label for="code" class="col-sm-2 control-label">Embed Code:</label><div class="col-sm-10"><input type="text" class="form-control" name="code" ></div></div><div class="form-group"><div class="col-sm-offset-2 col-sm-10"><button type="submit" class="btn btn-success btn-xs">Embed</button></div></div></form></div>');$(document).on("click",".embed-media-button",function(){$(".media").before(T),$(".embed-media-button").hide()}),$(document).on("submit","#embed-form",function(e){e.preventDefault(),$(T).hide(),$(".embed-media-button").show();var t=$(e.target),o=t.find("[name=code]").val();$(".media").append(o);var i=$(".name").data();i=i.userId;var n=s(i);n.media.push(o)}),$(document).on("click",".edit-profile",function(){$(".words").append('<button class="btn btn-default btn-xs delete-word">X</button>'),$(".words, .about, .philosophy").addClass("editing-profile edit"),$(".name, .location, .band").addClass("edit"),$(".sidebar-list-text").addClass("editing-profile"),$(".name-loc").addClass("edit-name-loc"),$("#edit").removeClass("edit-profile btn-xs").addClass("edit-done btn-md").text("Done Editing"),$("edit-directions").show(),$(".media").before(T),$(T).show(),$(".profile-pic").append('<span class="glyphicon glyphicon-picture make-it-white edit-icon-profile">Change-Photo</span>'),$(".profile-top").append('<span class="glyphicon glyphicon-picture make-it-white edit-icon-background">Change-Background</span>'),$(this).blur(),$(".ratio-graph").hide(),$(".ratio-graph").after('<input type="range" id="edit-ratio">'),$(".sidebar-list-text").append('<input type="text" class="add-new-word editing-profile edit" placeholder="Add New...">');var e=$(".name").data();e=e.userId;var t=s(e);console.log("this user: ",t),$(document).on("blur",".add-new-word",function(){console.log("find name of value by title: ",$(this).closest("p").attr("title"));var e=$(this).val(),o=$(this).closest("p").attr("title");t[o].push(e),console.log("thisUser new info added test: ",t),$(this).closest(".sidebar-list-text").append('<div class="words editing-profile edit">'+$(this).val()+"</div>"),$(this).closest(".sidebar-list-text").find(".words").last().append('<button class="btn btn-default btn-xs delete-word">X</button>'),$(this).closest(".sidebar-list-text").append('<input type="text" class="add-new-word editing-profile edit" placeholder="Add New...">'),$(this).remove()}),$(document).on("click",".delete-word",function(){console.log("find name of value by title: ",$(this).closest("p").attr("title"));var e=$(this).closest(".words").text().split(",").shift().split("X").pop(),o=$(this).closest("p").attr("title");console.log("val",e),console.log("attr",o),console.log("thisuser:",t);var i=t[o];console.log("array: ",i),console.log("array index of",i.indexOf(e)),console.log("thisUser new info added test: ",t),$(this).closest(".words").remove()}),$(document).on("click",".edit",function(){$(this).attr("contenteditable","true"),$(this).focus()}),$(document).on("blur",".edit",function(){console.log("find name of value by title: ",$(this).closest("p").attr("title"));var e=$(this).closest("p").attr("title");console.log("attr blur .edit",e)}),$(document).on("click",".edit-done",function(){$(".edit").attr("contenteditable","false"),$(".sidebar-list-text, .words, .name-loc, .about, .philosophy").removeClass("editing-profile edit"),$("#edit").addClass("edit-profile btn-xs").removeClass("edit-done btn-md").text("Edit Profile"),$(".name, .location, .band").removeClass("edit"),$(".name-loc").removeClass("edit-name-loc"),$(T).hide(),$(".edit-icon").hide(),$(".edit-directions").hide(),$(".edit-icon-profile").hide(),$(".edit-icon-background").hide(),$(".delete-word").hide(),$(".ratio-graph").show();var e=2*$("#edit-ratio").val();console.log("ratioValue: ",e),$("#ratio-bar").css({width:e}),$("#edit-ratio").hide(),$(".add-new-word").remove()})})}),$(document).on("ready",function(){var e=function(e){if($.isArray(e)===!0){for(var t=0;t<e.length;t++)e[t]=e[t].toLowerCase();return e}if(e){var o=e.toLowerCase();return o}},t=[],o=[],i=[],s=[];$("#submitSearch").on("submit",function(t){console.log("submitted..."),$(".search-result-info").hide(),$("#search-results-musicians").empty(),$("#search-results-bands").empty(),t.preventDefault();var n=$(t.target),a=[],l=[];n.find(".searchInput").map(function(){return{name:$(this).attr("name"),value:e($(this).val())}}).toArray().filter(function(e){return e.value}).forEach(function(e){a.push(e.name),l.push(e.value)}),console.log("searchedForValue: ",l),console.log("searchedFor: ",a);var r={searchedFor:a,searchedForValue:l};console.log("searchFor: ",r);var c=$.ajax({type:"POST",url:"/api/findUsers",traditional:!0,data:r}).done(function(){console.log("success")}).fail(function(){console.log("error")}).always(function(){console.log("complete, searchResults: ",c)});console.log("searchResults",c);for(var d=0;d<i.length;d++)for(var u=i[d],p=0,h=0;h<a.length;h++){var m=a[h],f=l[h],v=u[m];if($.isArray(v))for(var b=0;b<v.length;b++)v[b]===f&&p++;var g=u[m];g=e(g),g===f&&p++,p===a.length&&s.push(i[d])}console.log("positiveResultsFinal: ",s),$(".search-results").show(),$(".search-form").hide();for(var d=0;d<s.length;d++){var y=s[d];y.displayResultsMusicians()}s.length<1&&1>o&&$(".search-result-info").show();for(var d=0;d<o.length;d++){var y=o[d];y.displayResultsBands()}}),$(document).on("click",".search-again",function(){i=[],s=[],t=[],o=[],$(".search-form").show(),$("input").val("")})}),$(document).on("ready",function(){var e={bands:[],instruments:[],styles:[],skills:[],inspirations:[],improvComp:50};$(".sidebar-list-text").append('<input type="text" class="add-new-word editing-profile edit" placeholder="Add New...">'),$(document).on("blur",".add-new-word",function(){console.log("find id...");var t=$(this).val(),o=$(this).closest("p").attr("name");console.log("attr, val: ",o,t),e[o].push(t),console.log("userInfo",e),$(this).closest(".sidebar-list-text").append('<div class="words editing-profile edit">'+$(this).val()+"</div>"),$(this).closest(".sidebar-list-text").find(".words").last().append('<button class="btn btn-default btn-xs delete-word">X</button>'),$(this).closest(".sidebar-list-text").append('<input type="text" class="add-new-word editing-profile edit" placeholder="Add New...">'),$(this).remove()}),$(document).on("click",".delete-word",function(){var t=$(this).closest(".words").text(),o=$(this).closest("p").attr("name");console.log("val, attr",t,o),console.log("before deleted...",e[o]);for(var i=e[o],s=0;s<i.length;s++)i[s]===t&&i.splice(s,0);console.log("after deleted...",e[o]),console.log("val delete",t,o),$(this).closest(".words").remove()})});